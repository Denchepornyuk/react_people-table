{"version":3,"sources":["Home.js","Filter.js","Person.js","PeopleTable.js","PeoplePage.js","App.js","index.js"],"names":["Home","react_default","a","createElement","Filter","_ref","handleSearch","className","htmlFor","type","id","onChange","autoComplete","Person","people","history","match","location","selectText","selectedText","data","text","String","toLowerCase","includes","result","i","length","str","slice","push","map","person","key","name","cn","sex","concat","Math","ceil","died","selected","replace","params","onClick","pathname","search","handlePerson","Object","values","born","PeopleTable","URLSearchParams","sortBy","get","sortedPople","order","toConsumableArray","sort","b","localeCompare","head","keys","border","item","column","set","toString","src_Person","PeoplePage","query","sortPeople","objectSpread2","age","century","filter","_ref2","mother","father","src_PeopleTable","src_Filter","event","target","value","App","react_router_dom","to","exact","react_router","path","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.6ab398f9.chunk.js","sourcesContent":["import React from 'react';\n\nconst Home = () => (\n  <h1>Home Page</h1>\n);\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Filter = ({ handleSearch }) => (\n  <div className=\"table__sort\">\n    <label htmlFor=\"search\">\n      Search\n      <input\n        type=\"text\"\n        id=\"search\"\n        onChange={handleSearch}\n        className=\"sort__input\"\n        autoComplete=\"off\"\n      />\n    </label>\n  </div>\n);\n\nFilter.propTypes = { handleSearch: PropTypes.func.isRequired };\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nconst Person = ({ people, history, match, location, selectText }) => {\n  const selectedText = (data) => {\n    const text = selectText;\n\n    if (!text || !String(data).toLowerCase().includes(text)) {\n      return data;\n    }\n\n    if (!data) {\n      return '';\n    }\n\n    const result = [];\n\n    for (let i = 0; i < data.length; i += 1) {\n      const str = data.slice(i, i + text.length);\n\n      if (str.toLowerCase() === text) {\n        result.push(<span className=\"select--text\">{str}</span>);\n        i += str.length - 1;\n      } else {\n        result.push(data[i]);\n      }\n    }\n\n    return result;\n  };\n\n  const handlePerson = person => (\n    history.push({\n      pathname: `/people/${person.name.toLowerCase().replace(/ /g, '_')}`,\n      search: location.search,\n    })\n  );\n\n  return (\n    people.map(person => (\n      <tr\n        key={person.name}\n        className={\n          cn(person.sex === 'm' ? 'person--male' : 'person--female',\n            `Person--lived-in-${Math.ceil(person.died / 100)}`,\n            { selected: person.name.toLowerCase().replace(/ /g, '_')\n              === match.params.person })}\n        onClick={() => handlePerson(person)}\n      >\n        {Object.values(person).map(data => (\n          data === person.name\n            ? (\n              <td className={person.born < 1650 ? 'person--born' : ''}>\n                {selectedText(data)}\n              </td>\n            )\n            : <td>{selectedText(data)}</td>\n        ))}\n      </tr>\n    ))\n  );\n};\n\nPerson.propTypes = {\n  people: PropTypes.arrayOf.isRequired,\n  selectText: PropTypes.string.isRequired,\n};\n\nexport default Person;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Person from './Person';\n\nconst PeopleTable = ({ people, history, location, match, selectText }) => {\n  const search = new URLSearchParams(location.search);\n  const sortBy = search.get('sortBy');\n  let sortedPople = people;\n\n  const sortTable = (column) => {\n    if (search.get('sortBy') === column\n      && search.get('sortOrder') === 'asc') {\n      search.set('sortOrder', 'desc');\n    } else {\n      search.set('sortOrder', 'asc');\n    }\n\n    search.set('sortBy', column);\n    history.push({ search: search.toString() });\n  };\n\n  if (sortBy) {\n    const order = search.get('sortOrder') === 'desc' ? -1 : 1;\n\n    sortedPople = [...people].sort((a, b) => {\n      switch (typeof a[sortBy]) {\n        case 'string':\n          return a[sortBy].localeCompare(b[sortBy]) * order;\n        case 'number':\n          return (a[sortBy] - b[sortBy]) * order;\n        default:\n          return 0;\n      }\n    });\n  }\n\n  const head = [...Object.keys(sortedPople[0])];\n\n  return (\n    <table\n      border=\"1\"\n      className=\"people-table\"\n    >\n      <thead>\n        <tr>\n          {head.map(item => (\n            <th\n              key={item}\n              onClick={() => sortTable(item)}\n            >\n              {item}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {<Person\n          people={sortedPople}\n          history={history}\n          match={match}\n          location={location}\n          selectText={selectText}\n        />}\n      </tbody>\n    </table>\n  );\n};\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf.isRequired,\n  history: PropTypes.objectOf.isRequired,\n  location: PropTypes.objectOf.isRequired,\n  match: PropTypes.objectOf.isRequired,\n  selectText: PropTypes.string.isRequired,\n};\n\nexport default PeopleTable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Filter from './Filter';\nimport PeopleTable from './PeopleTable';\nimport people from './people';\n\nconst PeoplePage = ({ history, location, match }) => {\n  const search = new URLSearchParams(location.search);\n  let query = search.get('query');\n\n  let sortPeople = people.map(item => ({\n    ...item,\n    age: item.died - item.born,\n    century: Math.ceil(item.died / 100),\n  }));\n\n  if (query) {\n    query = query.toLowerCase();\n    sortPeople = people.filter(({ name, mother, father }) => (\n      (name + mother + father).toLowerCase().includes(query)\n    ));\n  }\n\n  const handleSearch = (event) => {\n    search.set('query', event.target.value);\n    history.push({ search: search.toString() });\n  };\n\n  return (\n    <div>\n      <h1>People table</h1>\n      <p>{`number of people - ${sortPeople.length}`}</p>\n      <PeopleTable\n        people={sortPeople}\n        history={history}\n        location={location}\n        match={match}\n        selectText={query}\n      />\n      <Filter\n        handleSearch={handleSearch}\n      />\n    </div>\n  );\n};\n\nPeoplePage.propTypes = {\n  history: PropTypes.objectOf.isRequired,\n  location: PropTypes.objectOf.isRequired,\n  match: PropTypes.objectOf.isRequired,\n};\n\nexport default PeoplePage;\n","import React from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport './App.css';\nimport Home from './Home';\nimport PeoplePage from './PeoplePage';\n\nconst App = () => (\n  <div className=\"App\">\n    <Link to=\"/\" exact className=\"table__link\">Home</Link>\n    <Link to=\"/people\" className=\"table__link\">People</Link>\n\n    <Route path=\"/\" exact component={Home} />\n    <Route path=\"/people/:person?\" component={PeoplePage} />\n\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}